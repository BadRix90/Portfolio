<section class="contact-section">
  <div class="contact-container">

    <div class="seal-logo">
      <img src="assets/img/siegel_orange.png" alt="Seal" class="orange-seal">
      <img src="assets/img/logo_kay.png" alt="Logo" class="logo-img" />
    </div>

    <div class="contact-content">
      <div class="contact-text">
        <h3 class="contact-label">{{ getText('contactLabel') }}</h3>
        <h2 class="contact-title">{{ getText('contactTitle') }}</h2>

        <div class="contact-description">
          <p>{{ getText('contactDescription1') }}</p>
          <p>{{ getText('contactDescription2') }}</p>
        </div>

        <img src="assets/img/footer_arrow.png" alt="Arrow" class="footer-arrow">
      </div>

      <div class="contact-form-wrapper">
        <form class="contact-form" [formGroup]="contactForm" (ngSubmit)="onSubmit()">

          <div class="form-group">
            <label for="name" class="form-label">{{ getText('nameLabel') }}</label>
            <input type="text" id="name" formControlName="name" class="form-input"
              [class.error]="name?.invalid && name?.touched" [placeholder]="getText('namePlaceholder')"
              (blur)="onFieldBlur('name')">
            <div *ngIf="name?.invalid && name?.touched" class="error-message">
              {{ getFieldError('name') }}
            </div>
          </div>

          <div class="form-group">
            <label for="email" class="form-label">{{ getText('emailLabel') }}</label>
            <input type="email" id="email" formControlName="email" class="form-input"
              [class.error]="email?.invalid && email?.touched" [placeholder]="getText('emailPlaceholder')"
              (blur)="onFieldBlur('email')">
            <div *ngIf="email?.invalid && email?.touched" class="error-message">
              {{ getFieldError('email') }}
            </div>
          </div>

          <div class="form-group">
            <label for="message" class="form-label">{{ getText('messageLabel') }}</label>
            <textarea id="message" formControlName="message" class="form-textarea"
              [class.error]="message?.invalid && message?.touched" [placeholder]="getText('messagePlaceholder')"
              (blur)="onFieldBlur('message')"></textarea>
            <div *ngIf="message?.invalid && message?.touched" class="error-message">
              {{ getFieldError('message') }}
            </div>
          </div>

          <div class="form-checkbox">
            <input type="checkbox" id="privacy" formControlName="privacy">
            <label for="privacy" class="checkbox-label">
              {{ getText('privacyText').split('privacy policy')[0] }}
              <a (click)="openPrivacyPolicy()" class="privacy-link">{{ getText('privacyLink') }}</a>
              {{ getText('privacyText').split('privacy policy')[1] ||
              getText('privacyText').split('Datenschutzerklärung')[1] }}
            </label>
          </div>

          <div class="form-actions">
            <img src="assets/img/footer_arrow.png" alt="Arrow" class="mobile-arrow">
            <button type="submit" class="submit-button" [disabled]="!contactForm.valid">
              {{ getText('submitButton') }}
            </button>
          </div>

        </form>
      </div>
    </div>

    <footer class="contact-footer">
      <div class="footer-content">

        <div class="footer-left">
          <div class="footer-logo-section">
            <img src="assets/img/logo_kay.png" alt="Logo" class="logo-img" (click)="scrollToHero()" />
          </div>
          <p class="footer-copyright">{{ getText('copyrightText') }}</p>
          <a (click)="openLegalNotice()" class="footer-legal">
            {{ getText('legalNotice') }}
            <div class="image-hover"></div>
          </a>
        </div>

        <div class="footer-mobile-info">
          <p class="footer-copyright">{{ getText('copyrightText') }}</p>
          <a (click)="openLegalNotice()" class="footer-legal-text">
            {{ getText('legalNotice') }}
            <div class="image-hover"></div>
          </a>
        </div>

        <div class="footer-right">
          <div *ngFor="let social of socialLinks" class="social-link-container"
            (mouseenter)="onSocialHover(social.name)" (mouseleave)="onSocialLeave()"
            (click)="openSocialLink(social.url, social.isExternal)">

            <!-- Rolling Icon (wie Waving Hand) -->
            <div class="social-icon-roller" [ngClass]="getSocialIconState(social.name)">
              <img [src]="social.icon" [alt]="social.name" class="rolling-icon">
            </div>

            <!-- Text (wie HelloWorld) -->
            <span class="social-text" [ngClass]="hoveredIcon === social.name ? 'active' : ''">
              {{ social.name }}
            </span>
          </div>
        </div>
      </div>
    </footer>

  </div>

  <div *ngIf="showLegalNotice" class="modal-overlay" (click)="closeModals()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h2>Legal Notice</h2>
        <button (click)="closeModals()" class="close-btn">×</button>
      </div>
      <div class="modal-body">
        <h3>Information according to § 5 TMG</h3>
        <p>Kay Dietrich<br>
          Frontend Developer<br>
          Lüneburg, Germany</p>

        <h3>Contact</h3>
        <p>Email: <a href="mailto:contact@kaydietrich.com">contact&#64;kaydietrich.com</a></p>

        <h3>Disclaimer</h3>
        <p>The contents of this website have been created with the utmost care.
          However, I cannot guarantee the contents' accuracy, completeness or topicality.</p>
      </div>
    </div>
  </div>

  <div *ngIf="showPrivacyPolicy" class="modal-overlay" (click)="closeModals()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h2>Privacy Policy</h2>
        <button (click)="closeModals()" class="close-btn">×</button>
      </div>
      <div class="modal-body">
        <h3>Data Protection</h3>
        <p>This website does not collect or store personal data beyond what is technically necessary for operation.</p>

        <h3>Contact Form</h3>
        <p>When you use our contact form, the data you provide will be used solely to respond to your inquiry.
          Your data will not be shared with third parties.</p>

        <h3>Server Logs</h3>
        <p>The web server automatically collects and stores information in server log files.
          This information includes browser type, operating system, and IP address.</p>

        <h3>Cookies</h3>
        <p>This website does not use cookies for tracking or analytics purposes.</p>

        <h3>Your Rights</h3>
        <p>You have the right to information, correction, deletion and restriction of processing of your personal data.
        </p>

        <h3>Contact</h3>
        <p>For questions regarding data protection: <a
            href="mailto:contact@kaydietrich.com">contact&#64;kaydietrich.com</a></p>
      </div>
    </div>
  </div>
</section>